<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,IE=9,chrome=1"><meta name="generator" content="MATLAB R2019b"><title>Untitled</title><style type="text/css">.rtcContent { padding: 30px; } .S0 { margin: 3px 10px 5px 4px; padding: 0px; line-height: 18px; min-height: 0px; white-space: normal; color: rgb(60, 60, 60); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 17px; font-weight: 700; text-align: left;  }
.CodeBlock { background-color: #F7F7F7; margin: 10px 0 10px 0;}
.S1 { border-left: 1px solid rgb(233, 233, 233); border-right: 1px solid rgb(233, 233, 233); border-top: 1px solid rgb(233, 233, 233); border-bottom: 0px none rgb(0, 0, 0); border-radius: 4px 4px 0px 0px; padding: 6px 45px 0px 13px; line-height: 16.996px; min-height: 18px; white-space: normal; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S2 { border-left: 1px solid rgb(233, 233, 233); border-right: 1px solid rgb(233, 233, 233); border-top: 0px none rgb(0, 0, 0); border-bottom: 0px none rgb(0, 0, 0); border-radius: 0px; padding: 0px 45px 0px 13px; line-height: 16.996px; min-height: 18px; white-space: normal; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S3 { border-left: 1px solid rgb(233, 233, 233); border-right: 1px solid rgb(233, 233, 233); border-top: 0px none rgb(0, 0, 0); border-bottom: 1px solid rgb(233, 233, 233); border-radius: 0px 0px 4px 4px; padding: 0px 45px 4px 13px; line-height: 16.996px; min-height: 18px; white-space: normal; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S4 { margin: 20px 10px 5px 4px; padding: 0px; line-height: 20px; min-height: 0px; white-space: normal; color: rgb(60, 60, 60); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 20px; font-weight: 700; text-align: left;  }
.S5 { margin: 2px 10px 9px 4px; padding: 0px; line-height: 21px; min-height: 0px; white-space: normal; color: rgb(0, 0, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 14px; font-weight: 400; text-align: left;  }</style></head><body><div class = rtcContent><h3  class = 'S0'><span>Listing 5.9: Script to compute liquid levels</span></h3><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: normal;"><span style="color: rgb(0, 0, 255);">function </span><span>main</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>    </span><span style="color: rgb(60, 118, 61);">% Initialize another_tank to start the while loop code.</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>    another_tank = true;</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>    </span><span style="color: rgb(0, 0, 255);">while </span><span>another_tank</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>        </span><span style="color: rgb(60, 118, 61);">% Get the tank dimensions.</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span style="color: rgb(60, 118, 61);">%         H = input('Overall tank height: ');</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span style="color: rgb(60, 118, 61);">%         r = input('tank radius: ');</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>        </span><span style="color: rgb(60, 118, 61);">%%%%</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span style="color: rgb(60, 118, 61);">%         %   auto gen only</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>        rn = round(rand(1,2) * 100);</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>        H = rn(1);</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>        r = rn(2);</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>        </span><span style="color: rgb(60, 118, 61);">%%%%</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>        </span><span style="color: rgb(60, 118, 61);">% Initialize more_heights to start the inner while loop.</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>        more_heights = true;</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>        </span><span style="color: rgb(0, 0, 255);">while </span><span>more_heights</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>            </span><span style="color: rgb(60, 118, 61);">% Get the liquid height.</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>            </span><span style="color: rgb(60, 118, 61);">% h = input('liquid height: ');</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>            </span><span style="color: rgb(60, 118, 61);">%%%%</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>            </span><span style="color: rgb(60, 118, 61);">%   auto gen only</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>            rn = round(rand(1,1) * 100);</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>            h = rn(1);</span></span></div></div><div class="inlineWrapper"><div  class = 'S3'><span style="white-space: normal;"><span>            </span><span style="color: rgb(60, 118, 61);">%%%%</span></span></div></div></div><h2  class = 'S4'><span>Calculations for legal values of h. Notice that no</span></h2><div  class = 'S5'><span>dot operators are required here, because these conditional computations will not work correctly with vectors.</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: normal;"><span>            </span><span style="color: rgb(0, 0, 255);">if </span><span>h &lt; r</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>                v = (1/3)*pi*h.^2.*(3*r-h);</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>            </span><span style="color: rgb(0, 0, 255);">elseif </span><span>h &lt; H-r</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>                v = (2/3)*pi*r^3 + pi*r^2*(h-r);</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>            </span><span style="color: rgb(0, 0, 255);">elseif </span><span>h &lt;= H</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>                v = (4/3)*pi*r^3 + pi*r^2*(H-2*r) </span><span style="color: rgb(0, 0, 255);">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>                    - (1/3)*pi*(H-h)^2*(3*r-H+h);</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>            </span><span style="color: rgb(0, 0, 255);">else</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>                </span><span style="color: rgb(60, 118, 61);">% Illegal h values end up here.</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>                disp(</span><span style="color: rgb(160, 32, 240);">'liquid level too high'</span><span>)</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>                </span><span style="color: rgb(60, 118, 61);">% Jump to the end of the inner loop, skipping the printout.</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>                </span><span style="color: rgb(0, 0, 255);">continue</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>            </span><span style="color: rgb(0, 0, 255);">end</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>            </span><span style="color: rgb(60, 118, 61);">% Print the result.</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>            fprintf( </span><span style="color: rgb(0, 0, 255);">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>                </span><span style="color: rgb(160, 32, 240);">'rad %0.2f ht %0.2f level %0.2f vol %0.2f\n'</span><span>, </span><span style="color: rgb(0, 0, 255);">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>                r,	H,	h,	v);</span></span></div></div><div class="inlineWrapper"><div  class = 'S3'><span style="white-space: normal;"><span>            </span><span style="color: rgb(60, 118, 61);">% More levels when "y" is entered.</span></span></div></div></div><h2  class = 'S4'><span>22. more_heights = input('more levels? (y/n)','s')=='y';</span></h2><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: normal;"><span>            </span><span style="color: rgb(60, 118, 61);">%%%%</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>            </span><span style="color: rgb(60, 118, 61);">%   auto gen only</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>            rn = round(rand(1,1) * 100 - 50);</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>            more_heights = (rn &gt; 0);</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>            </span><span style="color: rgb(60, 118, 61);">%%%%</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>        </span><span style="color: rgb(0, 0, 255);">end</span></span></div></div><div class="inlineWrapper"><div  class = 'S3'><span style="white-space: normal;"><span>        </span><span style="color: rgb(60, 118, 61);">% Another tank when “y" is entered.</span></span></div></div></div><h2  class = 'S4'><span>24. another_tank = input('another tank? (y/n)','s')=='y';</span></h2><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S1'><span style="white-space: normal;"><span>        </span><span style="color: rgb(60, 118, 61);">%%%%</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>        another_tank = false;</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>        rn = round(rand(1,1) * 100 - 50);</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>        </span><span style="color: rgb(0, 0, 255);">if </span><span>rn &gt; 0</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>            another_tank = true;</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>        </span><span style="color: rgb(0, 0, 255);">end</span></span></div></div><div class="inlineWrapper"><div  class = 'S2'><span style="white-space: normal;"><span>    </span><span style="color: rgb(0, 0, 255);">end</span></span></div></div><div class="inlineWrapper"><div  class = 'S3'><span style="white-space: normal;"><span style="color: rgb(0, 0, 255);">end</span></span></div></div></div></div>
<br>
<!-- 
##### SOURCE BEGIN #####
function main
% Listing 5.9: Script to compute liquid levels
    % Initialize another_tank to start the while loop code.
    another_tank = true;
    while another_tank
        % Get the tank dimensions.
%         H = input('Overall tank height: ');
%         r = input('tank radius: ');
        %%%%
%         %   auto gen only
        rn = round(rand(1,2) * 100);
        H = rn(1);
        r = rn(2);
        %%%%
        % Initialize more_heights to start the inner while loop.
        more_heights = true;
        while more_heights
            % Get the liquid height.
            % h = input('liquid height: ');
            %%%%
            %   auto gen only
            rn = round(rand(1,1) * 100);
            h = rn(1);
            %%%%
%% Calculations for legal values of h. Notice that no
% dot operators are required here, because these conditional computations will 
% not work correctly with vectors.
            if h < r
                v = (1/3)*pi*h.^2.*(3*r-h);
            elseif h < H-r
                v = (2/3)*pi*r^3 + pi*r^2*(h-r);
            elseif h <= H
                v = (4/3)*pi*r^3 + pi*r^2*(H-2*r) ...
                    - (1/3)*pi*(H-h)^2*(3*r-H+h);
            else
                % Illegal h values end up here.
                disp('liquid level too high')
                % Jump to the end of the inner loop, skipping the printout.
                continue
            end
            % Print the result.
            fprintf( ...
                'rad %0.2f ht %0.2f level %0.2f vol %0.2f\n', ...
                r,	H,	h,	v);
            % More levels when "y" is entered.
%% 22. more_heights = input('more levels? (y/n)','s')=='y';
            %%%%
            %   auto gen only
            rn = round(rand(1,1) * 100 - 50);
            more_heights = (rn > 0);
            %%%%
        end
        % Another tank when “y" is entered.
%% 24. another_tank = input('another tank? (y/n)','s')=='y';
        %%%%
        another_tank = false;
        rn = round(rand(1,1) * 100 - 50);
        if rn > 0
            another_tank = true;
        end
    end
end
##### SOURCE END #####
--></body></html>